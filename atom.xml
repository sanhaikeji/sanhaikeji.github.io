<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sanhai&#39;s Blogs</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2025-12-27T13:57:20.018Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Sanhai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç³–æœå…¬å›­ - é¢˜è§£</title>
    <link href="http://example.com/2025/12/27/P4070%E7%B3%96%E6%9E%9C%E5%85%AC%E5%9B%AD/"/>
    <id>http://example.com/2025/12/27/P4070%E7%B3%96%E6%9E%9C%E5%85%AC%E5%9B%AD/</id>
    <published>2025-12-27T13:47:20.000Z</published>
    <updated>2025-12-27T13:57:20.018Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç³–æœå…¬å›­-é¢˜è§£"><a href="#ç³–æœå…¬å›­-é¢˜è§£" class="headerlink" title="ç³–æœå…¬å›­ é¢˜è§£"></a>ç³–æœå…¬å›­ é¢˜è§£</h1><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>ç»™å®šä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ç§ç³–æœ $C_i$ (å…± m ç§)ã€‚æ¯ç§ç³–æœæœ‰ç¾å‘³å€¼ $V_i$ï¼Œå“å°ç¬¬ $k$ æ¬¡åŒç§ç³–æœçš„æ–°å¥‡æ„Ÿä¸º $W_k$ã€‚æ¸¸å®¢ä» $u$ èµ°åˆ° $v$ çš„æ„‰æ‚¦åº¦ä¸ºè·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹ $i$ çš„ $V_{C_i}$ Ã— $W_{count(C_i)}$ â€‹ä¹‹å’Œï¼Œå…¶ä¸­<br>$count(C_i)$ æ˜¯æ­¤ç§ç³–æœåœ¨å½“å‰è·¯å¾„ä¸Šå‡ºç°çš„æ¬¡æ•°ã€‚<br>éœ€è¦æ”¯æŒä¸¤ç§æ“ä½œï¼š</p><p>ä¿®æ”¹æŸä¸ªèŠ‚ç‚¹çš„ç³–æœç§ç±»ã€‚<br>æŸ¥è¯¢æŸæ¡è·¯å¾„çš„æ„‰æ‚¦åº¦ã€‚</p><h2 id="ç®—æ³•åˆ†æ"><a href="#ç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h2><p>æœ¬é¢˜æ˜¯ä¸€é“ç»å…¸çš„ <strong>æ ‘ä¸Šå¸¦ä¿®æ”¹è«é˜Ÿ</strong> é—®é¢˜ã€‚ä¸åºåˆ—è«é˜Ÿä¸åŒï¼Œæ ‘ä¸Šè«é˜Ÿéœ€è¦å¤„ç†æ ‘å½¢ç»“æ„ï¼Œé€šå¸¸ä½¿ç”¨æ¬§æ‹‰åºå°†æ ‘è½¬ä¸ºåºåˆ—ã€‚ä½†æœ¬è§£æ³•é‡‡ç”¨ DFNåºç»“åˆè·¯å¾„ç§»åŠ¨ çš„æ–¹å¼ï¼Œç›´æ¥å¤„ç†æ ‘ä¸Šè·¯å¾„ã€‚<br>æ ¸å¿ƒæ€è·¯ï¼šDFNåºç»“åˆå¸¦ä¿®è«é˜Ÿ</p><p>DFNåºé¢„å¤„ç†ï¼šé€šè¿‡DFSå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„DFNåºï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢åºï¼‰ï¼Œç”¨äºè«é˜Ÿçš„å—åˆ’åˆ†ã€‚è™½ç„¶DFNåºæœ¬èº«ä¸èƒ½ç›´æ¥è¡¨ç¤ºè·¯å¾„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡DFNåºæ¥å¯¹æŸ¥è¯¢è¿›è¡Œæ’åºï¼Œä»è€Œä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p><p>è·¯å¾„ç§»åŠ¨ï¼šä½¿ç”¨ work å‡½æ•°é€šè¿‡ä¸æ–­ç§»åŠ¨åˆ°çˆ¶èŠ‚ç‚¹æ¥æ”¹å˜å½“å‰è·¯å¾„ã€‚å¯¹äºè·¯å¾„ $(u, v)$ï¼Œé€šè¿‡ç§»åŠ¨ç«¯ç‚¹åˆ°LCAæ¥æ·»åŠ æˆ–ç§»é™¤èŠ‚ç‚¹ã€‚</p><p>å¤„ç†ä¿®æ”¹ï¼šå¢åŠ æ—¶é—´ç»´åº¦ $t$ï¼Œè®°å½•ä¿®æ”¹æ“ä½œã€‚åœ¨è«é˜Ÿç§»åŠ¨å·¦å³æŒ‡é’ˆæ—¶ï¼ŒåŒæ—¶ç§»åŠ¨æ—¶é—´æŒ‡é’ˆæ¥å¤„ç†ä¿®æ”¹ã€‚</p><p>LCAå¤„ç†ï¼šå…³é”®ç‚¹åœ¨äºï¼Œè·¯å¾„ç§»åŠ¨åï¼ŒLCAèŠ‚ç‚¹å¯èƒ½æœªè¢«åŒ…å«ï¼Œå› æ­¤éœ€è¦åœ¨è®¡ç®—ç­”æ¡ˆå‰ä¸´æ—¶æ·»åŠ LCAç‚¹ï¼Œè®¡ç®—åç§»é™¤ã€‚</p><p>å—å¤§å°è®¾ç½®ï¼šé€šå¸¸å– $B = n^{2/3}$ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(n^{5/3})$ã€‚</p><h2 id="ä»£ç å®ç°-C"><a href="#ä»£ç å®ç°-C" class="headerlink" title="ä»£ç å®ç° (C++)"></a>ä»£ç å®ç° (C++)</h2><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">200005</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, M, m, dfn[N], idx, vv[N], ww[N], b[N], a[N], lg[N], f[N][<span class="number">20</span>], d[N], res, ans[N];</span><br><span class="line"><span class="type">int</span> B; <span class="comment">// å—å¤§å°ï¼Œè®¾ç½®ä¸º n^(2/3)</span></span><br><span class="line">bitset&lt;N&gt; ex; <span class="comment">// æ ‡è®°èŠ‚ç‚¹æ˜¯å¦åœ¨å½“å‰è·¯å¾„ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Query</span> {</span><br><span class="line">    <span class="type">int</span> l, r, id, t; <span class="comment">// æŸ¥è¯¢çš„å·¦å³ç«¯ç‚¹(èŠ‚ç‚¹ç¼–å·)ï¼ŒæŸ¥è¯¢idï¼Œæ—¶é—´æˆ³</span></span><br><span class="line">} q[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Update</span> {</span><br><span class="line">    <span class="type">int</span> pos, old_val, new_val, t; <span class="comment">// ä¿®æ”¹ä½ç½®ï¼Œæ—§å€¼ï¼Œæ–°å€¼ï¼Œæ—¶é—´æˆ³</span></span><br><span class="line">} upd[N];</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v[N]; <span class="comment">// é‚»æ¥è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è«é˜Ÿæ’åºå‡½æ•°ï¼šæŒ‰å·¦ç«¯ç‚¹çš„å—ã€å³ç«¯ç‚¹çš„å—ã€æ—¶é—´æˆ³æ’åº</span></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (Query x, Query y) {</span><br><span class="line">    <span class="type">int</span> bx = dfn[x.l] / B, by = dfn[y.l] / B;</span><br><span class="line">    <span class="keyword">if</span> (bx != by) <span class="keyword">return</span> bx &lt; by;</span><br><span class="line">    <span class="type">int</span> cx = dfn[x.r] / B, cy = dfn[y.r] / B;</span><br><span class="line">    <span class="keyword">if</span> (cx != cy) <span class="keyword">return</span> cx &lt; cy;</span><br><span class="line">    <span class="keyword">return</span> x.t &lt; y.t;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// DFSé¢„å¤„ç†ï¼šæ±‚DFNåºã€æ·±åº¦ã€çˆ¶èŠ‚ç‚¹ï¼Œå¹¶é¢„å¤„ç†å€å¢æ•°ç»„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> fa)</span> </span>{</span><br><span class="line">    dfn[x] = ++idx;</span><br><span class="line">    d[x] = d[fa] + <span class="number">1</span>;</span><br><span class="line">    f[x][<span class="number">0</span>] = fa;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= lg[n]; i++) {</span><br><span class="line">        f[x][i] = f[f[x][i<span class="number">-1</span>]][i<span class="number">-1</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> to : v[x]) {</span><br><span class="line">        <span class="keyword">if</span> (to != fa) {</span><br><span class="line">            <span class="built_in">dfs</span>(to, x);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// LCAç®—æ³•ï¼šä½¿ç”¨å€å¢æ³•</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (d[x] &lt; d[y]) <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="type">int</span> diff = d[x] - d[y];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; diff; i++) {</span><br><span class="line">        <span class="keyword">if</span> (diff &amp; <span class="number">1</span>) x = f[x][i];</span><br><span class="line">        diff &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (x == y) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = lg[n]; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">        <span class="keyword">if</span> (f[x][i] != f[y][i]) {</span><br><span class="line">            x = f[x][i];</span><br><span class="line">            y = f[y][i];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ èŠ‚ç‚¹åˆ°å½“å‰è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x)</span> </span>{</span><br><span class="line">    b[a[x]]++; <span class="comment">// è¯¥ç³–æœç±»å‹å‡ºç°æ¬¡æ•°+1</span></span><br><span class="line">    res += vv[a[x]] * ww[b[a[x]]]; <span class="comment">// å¢åŠ è´¡çŒ®</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å½“å‰è·¯å¾„ç§»é™¤èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">del</span><span class="params">(<span class="type">int</span> x)</span> </span>{</span><br><span class="line">    res -= vv[a[x]] * ww[b[a[x]]]; <span class="comment">// å‡å°‘è´¡çŒ®</span></span><br><span class="line">    b[a[x]]--; <span class="comment">// è¯¥ç³–æœç±»å‹å‡ºç°æ¬¡æ•°-1</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§»åŠ¨è·¯å¾„ç«¯ç‚¹ï¼šä»å½“å‰èŠ‚ç‚¹xç§»åŠ¨åˆ°ç›®æ ‡èŠ‚ç‚¹t</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> t)</span> </span>{</span><br><span class="line">    <span class="type">int</span> l = <span class="built_in">lca</span>(x, t);</span><br><span class="line">    <span class="comment">// ä»xç§»åŠ¨åˆ°LCA</span></span><br><span class="line">    <span class="keyword">while</span> (x != l) {</span><br><span class="line">        <span class="keyword">if</span> (ex[x]) {</span><br><span class="line">            ex[x] = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">del</span>(x);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            ex[x] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">add</span>(x);</span><br><span class="line">        }</span><br><span class="line">        x = f[x][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// ä»tç§»åŠ¨åˆ°LCA</span></span><br><span class="line">    x = t;</span><br><span class="line">    <span class="keyword">while</span> (x != l) {</span><br><span class="line">        <span class="keyword">if</span> (ex[x]) {</span><br><span class="line">            ex[x] = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">del</span>(x);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            ex[x] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">add</span>(x);</span><br><span class="line">        }</span><br><span class="line">        x = f[x][<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œä¿®æ”¹æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (ex[x]) { <span class="comment">// å¦‚æœèŠ‚ç‚¹åœ¨å½“å‰è·¯å¾„ä¸­ï¼Œéœ€è¦æ›´æ–°è´¡çŒ®</span></span><br><span class="line">        <span class="built_in">del</span>(x);</span><br><span class="line">        a[x] = y;</span><br><span class="line">        <span class="built_in">add</span>(x);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        a[x] = y; <span class="comment">// å¦åˆ™ç›´æ¥ä¿®æ”¹</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å…¥å¤„ç†</span></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; M &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) {</span><br><span class="line">        lg[i] = lg[i &gt;&gt; <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= M; i++) cin &gt;&gt; vv[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; ww[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        v[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">        v[y].<span class="built_in">push_back</span>(x);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// DFSé¢„å¤„ç†</span></span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¾ç½®å—å¤§å°</span></span><br><span class="line">    B = <span class="built_in">pow</span>(n, <span class="number">2.0</span>/<span class="number">3.0</span>);</span><br><span class="line">    <span class="keyword">if</span> (B &lt; <span class="number">1</span>) B = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æ“ä½œ</span></span><br><span class="line">    <span class="type">int</span> qcnt = <span class="number">0</span>, ucnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) {</span><br><span class="line">        <span class="type">int</span> type, x, y;</span><br><span class="line">        cin &gt;&gt; type &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="number">0</span>) {</span><br><span class="line">            ucnt++;</span><br><span class="line">            upd[ucnt] = {x, a[x], y, ucnt};</span><br><span class="line">            a[x] = y; <span class="comment">// å…ˆåº”ç”¨ä¿®æ”¹</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            qcnt++;</span><br><span class="line">            q[qcnt] = {x, y, qcnt, ucnt};</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å›é€€æ‰€æœ‰ä¿®æ”¹ï¼Œæ¢å¤åˆå§‹çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = ucnt; i &gt;= <span class="number">1</span>; i--) {</span><br><span class="line">        a[upd[i].pos] = upd[i].old_val;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯¹æŸ¥è¯¢æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(q + <span class="number">1</span>, q + qcnt + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–è«é˜Ÿ</span></span><br><span class="line">    <span class="type">int</span> l = <span class="number">1</span>, r = <span class="number">1</span>, t = <span class="number">0</span>;</span><br><span class="line">    ex.<span class="built_in">reset</span>();</span><br><span class="line">    <span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="built_in">sizeof</span>(b));</span><br><span class="line">    res = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">add</span>(<span class="number">1</span>); <span class="comment">// åˆå§‹åŠ å…¥èŠ‚ç‚¹1</span></span><br><span class="line">    ex[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æ¯ä¸ªæŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= qcnt; i++) {</span><br><span class="line">        <span class="comment">// ç§»åŠ¨è·¯å¾„ç«¯ç‚¹</span></span><br><span class="line">        <span class="built_in">work</span>(l, q[i].l);</span><br><span class="line">        l = q[i].l;</span><br><span class="line">        <span class="built_in">work</span>(r, q[i].r);</span><br><span class="line">        r = q[i].r;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¤„ç†æ—¶é—´ç»´åº¦ä¸Šçš„ä¿®æ”¹</span></span><br><span class="line">        <span class="keyword">while</span> (t &lt; q[i].t) {</span><br><span class="line">            t++;</span><br><span class="line">            <span class="built_in">change</span>(upd[t].pos, upd[t].new_val);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">while</span> (t &gt; q[i].t) {</span><br><span class="line">            <span class="built_in">change</span>(upd[t].pos, upd[t].old_val);</span><br><span class="line">            t--;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¤„ç†LCAï¼šä¸´æ—¶æ·»åŠ LCAç‚¹ï¼Œè®¡ç®—ç­”æ¡ˆåç§»é™¤</span></span><br><span class="line">        <span class="type">int</span> lc = <span class="built_in">lca</span>(l, r);</span><br><span class="line">        <span class="built_in">add</span>(lc);</span><br><span class="line">        ans[q[i].id] = res;</span><br><span class="line">        <span class="built_in">del</span>(lc);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= qcnt; i++) {</span><br><span class="line">        cout &lt;&lt; ans[i] &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="å…³é”®ç‚¹è¯´æ˜"><a href="#å…³é”®ç‚¹è¯´æ˜" class="headerlink" title="å…³é”®ç‚¹è¯´æ˜"></a>å…³é”®ç‚¹è¯´æ˜</h3><p>DFNåºçš„ä½¿ç”¨ï¼šè™½ç„¶æœ¬è§£æ³•ä½¿ç”¨DFNåºè¿›è¡Œå—åˆ’åˆ†ï¼Œä½†è·¯å¾„ç§»åŠ¨æ˜¯é€šè¿‡èŠ‚ç‚¹è·³è½¬å®ç°çš„ï¼Œè€Œä¸æ˜¯å…¸å‹çš„æ¬§æ‹‰åºåŒºé—´ç§»åŠ¨ã€‚è¿™ç§æ–¹å¼æ›´ç›´è§‚ä½†å¯èƒ½æ•ˆç‡ç¨ä½ã€‚</p><p>è·¯å¾„ç§»åŠ¨å‡½æ•° workï¼šè¯¥å‡½æ•°é€šè¿‡ä¸æ–­ç§»åŠ¨åˆ°çˆ¶èŠ‚ç‚¹æ¥æ·»åŠ æˆ–ç§»é™¤è·¯å¾„ä¸Šçš„èŠ‚ç‚¹ï¼Œç¡®ä¿è·¯å¾„æ­£ç¡®å˜åŒ–ã€‚</p><p>LCAçš„å¤„ç†ï¼šç”±äºè·¯å¾„ç§»åŠ¨åLCAå¯èƒ½æœªè¢«åŒ…å«ï¼Œå› æ­¤éœ€è¦åœ¨è®¡ç®—ç­”æ¡ˆå‰ä¸´æ—¶æ·»åŠ LCAç‚¹ï¼Œè®¡ç®—åç«‹å³ç§»é™¤ã€‚è¿™æ˜¯è§£å†³WAçš„å…³é”®ã€‚</p><p>ä¿®æ”¹æ“ä½œçš„å¤„ç†ï¼šè®°å½•ä¿®æ”¹åºåˆ—ï¼Œå¹¶åœ¨æ—¶é—´ç»´åº¦ä¸Šç§»åŠ¨æ—¶æ‰§è¡Œæˆ–å›é€€ä¿®æ”¹ï¼Œç¡®ä¿æŸ¥è¯¢æ—¶æ•°æ®çŠ¶æ€æ­£ç¡®ã€‚</p><p>å¤æ‚åº¦åˆ†æï¼šé€šè¿‡è®¾ç½®å—å¤§å° $B = n^{2/3}$ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n^{5/3})$ï¼Œèƒ½å¤Ÿé€šè¿‡æœ¬é¢˜çš„æ•°æ®è§„æ¨¡ã€‚</p><p>æ€»ç»“<br>æœ¬é¢˜æ˜¯æ ‘ä¸Šå¸¦ä¿®è«é˜Ÿçš„å…¸å‹åº”ç”¨ã€‚ä¸åºåˆ—è«é˜Ÿç›¸æ¯”ï¼Œæ ‘ä¸Šè«é˜Ÿéœ€è¦å¤„ç†æ ‘å½¢ç»“æ„å’ŒLCAé—®é¢˜ã€‚æœ¬è§£æ³•é‡‡ç”¨DFNåºè¿›è¡Œå—åˆ’åˆ†ï¼Œç»“åˆè·¯å¾„ç§»åŠ¨å‡½æ•°å¤„ç†æ ‘ä¸Šè·¯å¾„ï¼Œé€šè¿‡ä¸´æ—¶æ·»åŠ LCAç‚¹ç¡®ä¿ç­”æ¡ˆæ­£ç¡®ã€‚æŒæ¡è¿™ç§æ ‘ä¸Šå¸¦ä¿®è«é˜Ÿçš„æŠ€å·§ï¼Œå¯¹äºè§£å†³å¤æ‚çš„æ ‘ä¸ŠæŸ¥è¯¢é—®é¢˜éå¸¸æœ‰å¸®åŠ©ã€‚<br>å¯¹äºæƒ³è¦è¿›ä¸€æ­¥ä¼˜åŒ–çš„åŒå­¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ¬§æ‹‰åºå°†æ ‘è½¬ä¸ºåºåˆ—ï¼Œä»è€Œç›´æ¥åº”ç”¨åºåˆ—è«é˜Ÿçš„æ–¹æ³•ï¼Œä½†éœ€è¦æ³¨æ„å¤„ç†è·¯å¾„æ—¶çš„ç‰¹æ®Šæƒ…å†µã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç³–æœå…¬å›­-é¢˜è§£&quot;&gt;&lt;a href=&quot;#ç³–æœå…¬å›­-é¢˜è§£&quot; class=&quot;headerlink&quot; title=&quot;ç³–æœå…¬å›­ é¢˜è§£&quot;&gt;&lt;/a&gt;ç³–æœå…¬å›­ é¢˜è§£&lt;/h1&gt;&lt;h2 id=&quot;é¢˜ç›®å¤§æ„&quot;&gt;&lt;a href=&quot;#é¢˜ç›®å¤§æ„&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>æ–¹æ ¼æŸ“è‰² - é¢˜è§£</title>
    <link href="http://example.com/2025/12/25/P9478-NOI2023-%E6%96%B9%E6%A0%BC%E6%9F%93%E8%89%B2A/"/>
    <id>http://example.com/2025/12/25/P9478-NOI2023-%E6%96%B9%E6%A0%BC%E6%9F%93%E8%89%B2A/</id>
    <published>2025-12-25T15:07:36.000Z</published>
    <updated>2025-12-26T14:12:08.509Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å­ä»»åŠ¡-A-é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰"><a href="#å­ä»»åŠ¡-A-é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰" class="headerlink" title="å­ä»»åŠ¡ A é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰"></a>å­ä»»åŠ¡ A é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰</h1><blockquote><p>è¯´å¥å®è¯ï¼Œæˆ‘å†™çš„é¢˜è§£çœŸçš„æ˜¯ä¸å¦‚AIã€‚é‚£ä¹ˆä½œä¸ºä¸€ä¸ª<del>OIé€‰æ‰‹</del>äººç±»ï¼Œæˆ‘ä»¬èƒ½åšçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿåªæœ‰å¦‚ä½•æƒ³å‡ºæ¥çš„æ€è·¯ç½¢äº†ã€‚æ‰€ä»¥æœ¬ç¯‡é¢˜è§£ä¸»è¦æ³¨æ„çš„æ˜¯æ€æƒ³è¿‡ç¨‹ï¼Œä»¥åŠé‡åˆ°ä¸€é“é¢˜ç›®æ—¶æˆ‘çš„ååº”ã€‚</p></blockquote><h2 id="ä¸€ã€é¦–å…ˆ"><a href="#ä¸€ã€é¦–å…ˆ" class="headerlink" title="ä¸€ã€é¦–å…ˆ"></a>ä¸€ã€é¦–å…ˆ</h2><h3 id="1-1-ä»é•¿é¢˜é¢ä¸­æå–"><a href="#1-1-ä»é•¿é¢˜é¢ä¸­æå–" class="headerlink" title="1.1 ä»é•¿é¢˜é¢ä¸­æå–"></a>1.1 ä»é•¿é¢˜é¢ä¸­æå–</h3><p>çœ‹ç€å¾ˆé•¿ï¼Œæœ€å…³é”®çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé‚£è‚¯å®šæ˜¯æç‚¼ï¼ˆè¯´äº†å¥åºŸè¯ï¼‰ã€‚</p><p>é€šè¿‡çœ‹é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä»¥ä¸‹å…³é”®ç‚¹ï¼š</p><blockquote><p><strong>âš ï¸ æ³¨æ„</strong>ï¼šå› ä¸ºæˆ‘ä»¬åªåšAï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è€ƒè™‘æ¨ªçš„æƒ…å†µ</p></blockquote><p>æ‰€ä»¥æœ€åå°±å˜æˆäº†ï¼šä¸€å¼€å§‹å…¨ç™½ï¼Œç»™æ“ä½œï¼Œæ¯æ¬¡æŠŠä¸€è¡Œä¸­çš„ $[x_1, x_2]$ è¿™ä¸ªèŒƒå›´å˜é»‘ã€‚</p><p>å¥½çš„é‚£æˆ‘ä»¬å°±æˆåŠŸçš„å®Œæˆäº†ç¼©å°ï¼ˆæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼‰</p><h3 id="1-2-çœ‹åˆ°é—®é¢˜é¦–å…ˆæƒ³åˆ°ä»€ä¹ˆï¼Ÿ"><a href="#1-2-çœ‹åˆ°é—®é¢˜é¦–å…ˆæƒ³åˆ°ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.2 çœ‹åˆ°é—®é¢˜é¦–å…ˆæƒ³åˆ°ä»€ä¹ˆï¼Ÿ"></a>1.2 çœ‹åˆ°é—®é¢˜é¦–å…ˆæƒ³åˆ°ä»€ä¹ˆï¼Ÿ</h3><p><strong>ç¬¬ä¸€ååº”</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªäºŒç»´å¹³é¢æŸ“è‰²é—®é¢˜ã€‚ä½†æ“ä½œä»…é™äºæ°´å¹³æ–¹å‘ï¼Œæ˜¾ç„¶ä¸åŒè¡Œä¹‹é—´åº”è¯¥æ²¡æœ‰å…³ç³»ã€‚</p><p>è®©æˆ‘ä»¬éªŒè¯è¿™ä¸ªæ˜¾ç„¶ï¼š</p><ul><li>æ“ä½œ1ï¼šæŸ“é»‘ç¬¬3è¡Œçš„[1,5]</li><li>æ“ä½œ2ï¼šæŸ“é»‘ç¬¬5è¡Œçš„[2,4]</li><li>ç¬¬3è¡Œçš„æ“ä½œä¼šå½±å“ç¬¬5è¡Œå—ï¼Ÿ<strong>æ˜¾ç„¶ä¸ä¼š</strong></li></ul><blockquote><p><strong>ğŸ’¡ æ ¸å¿ƒè§‚å¯Ÿ</strong>ï¼šä¸åŒè¡Œçš„æ“ä½œå®Œå…¨ç‹¬ç«‹ï¼æ¯è¡Œçš„æŸ“è‰²ç»“æœåªå–å†³äºè¯¥è¡Œçš„æ“ä½œé›†åˆã€‚</p></blockquote><p>äºæ˜¯é—®é¢˜è½¬åŒ–ä¸ºï¼š <strong>å¯¹æ¯ä¸€è¡Œï¼Œå·²çŸ¥è‹¥å¹²åŒºé—´ $[x_1, x_2]$ï¼Œæ±‚è¢«è¦†ç›–çš„æ ¼å­æ€»æ•°</strong>ã€‚</p><h2 id="äºŒã€é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä»€ä¹ˆæ–¹æ³•å‘¢"><a href="#äºŒã€é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä»€ä¹ˆæ–¹æ³•å‘¢" class="headerlink" title="äºŒã€é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä»€ä¹ˆæ–¹æ³•å‘¢"></a>äºŒã€é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä»€ä¹ˆæ–¹æ³•å‘¢</h2><blockquote><p><strong>ğŸ’¡ æç¤º</strong>ï¼šé¦–å…ˆæˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯ï¼šå› ä¸ºå¯èƒ½å‡ºç°ç›¸åŒçš„åœ°æ–¹é‡å¤æŸ“è‰²ï¼Œæ‰€ä»¥è‡ªç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä»¥ä¸‹ç®—æ³•</p></blockquote><h3 id="2-1-æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•"><a href="#2-1-æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•" class="headerlink" title="2.1 æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•"></a>2.1 æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•</h3><p><strong>æ€è·¯</strong>ï¼šå¯¹æ¯è¡Œï¼Œåˆ›å»ºä¸€ä¸ªå¤§å°ä¸º $m$ çš„å¸ƒå°”æ•°ç»„ï¼Œéå†æ¯ä¸ªæ“ä½œï¼Œå°†å¯¹åº”ä½ç½®æ ‡è®°ä¸º <code>true</code>ï¼Œæœ€åç»Ÿè®¡ <code>true</code> çš„æ•°é‡ã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼š$m \le 10^9$ï¼Œæ•°ç»„å¤ªå¤§ï¼Œç©ºé—´çˆ†ç‚¸ã€‚</p><p><strong>æš´åŠ›</strong></p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ–¹æ³•ä»…ç”¨äºç†è§£é—®é¢˜</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="type">int</span> c; <span class="type">long</span> <span class="type">long</span> n, m; <span class="type">int</span> q;</span><br><span class="line">    cin &gt;&gt; c &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç©ºé—´å ç”¨è¶…æ ‡</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">board</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(m + <span class="number">1</span>, <span class="literal">false</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i++) {</span><br><span class="line">        <span class="type">int</span> t; <span class="type">long</span> <span class="type">long</span> x1, y1, x2, y2;</span><br><span class="line">        cin &gt;&gt; t &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="number">1</span>) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> x = x1; x &lt;= x2; x++) {</span><br><span class="line">                board[y1][x] = <span class="literal">true</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">1</span>; y &lt;= n; y++) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> x = <span class="number">1</span>; x &lt;= m; x++) {</span><br><span class="line">            <span class="keyword">if</span> (board[y][x]) ans++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-2-æ–¹æ³•äºŒï¼šçº¿æ®µæ ‘-æ ‘çŠ¶æ•°ç»„"><a href="#2-2-æ–¹æ³•äºŒï¼šçº¿æ®µæ ‘-æ ‘çŠ¶æ•°ç»„" class="headerlink" title="2.2 æ–¹æ³•äºŒï¼šçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„"></a>2.2 æ–¹æ³•äºŒï¼šçº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„</h3><p><strong>æ€è·¯</strong>ï¼šå¯¹æ¯è¡Œå»ºç«‹çº¿æ®µæ ‘æˆ–æ ‘çŠ¶æ•°ç»„ï¼Œæ”¯æŒåŒºé—´æŸ“è‰²å’ŒæŸ¥è¯¢ã€‚æ¯æ¬¡æ“ä½œè°ƒç”¨åŒºé—´æ›´æ–°ï¼Œæœ€åæŸ¥è¯¢æ•´è¡Œçš„è¦†ç›–é•¿åº¦ã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦ä¸ºæ¯è¡Œç»´æŠ¤ä¸€æ£µçº¿æ®µæ ‘ï¼Œç©ºé—´å¤æ‚åº¦ $O(n \cdot \log m)$ æˆ–éœ€è¦åŠ¨æ€å¼€ç‚¹ï¼Œå®ç°å¤æ‚ä¸”æ•ˆç‡ä½ä¸‹ã€‚</p><p><strong>çº¿æ®µ</strong></p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SegTree</span> {</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; tree, lazy;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">SegTree</span>(<span class="type">int</span> _n) {</span><br><span class="line">        n = _n;</span><br><span class="line">        tree.<span class="built_in">assign</span>(<span class="number">4</span> * n + <span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line">        lazy.<span class="built_in">assign</span>(<span class="number">4</span> * n + <span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (lazy[node]) {</span><br><span class="line">            tree[node] = (r - l + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (l != r) {</span><br><span class="line">                lazy[node * <span class="number">2</span>] = lazy[node * <span class="number">2</span> + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">            lazy[node] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> ul, <span class="type">int</span> ur)</span> </span>{</span><br><span class="line">        <span class="built_in">push</span>(node, l, r);</span><br><span class="line">        <span class="keyword">if</span> (ul &gt; r || ur &lt; l) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (ul &lt;= l &amp;&amp; r &lt;= ur) {</span><br><span class="line">            lazy[node] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">push</span>(node, l, r);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">update</span>(node * <span class="number">2</span>, l, mid, ul, ur);</span><br><span class="line">        <span class="built_in">update</span>(node * <span class="number">2</span> + <span class="number">1</span>, mid + <span class="number">1</span>, r, ul, ur);</span><br><span class="line">        tree[node] = tree[node * <span class="number">2</span>] + tree[node * <span class="number">2</span> + <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> tree[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="type">int</span> c; <span class="type">long</span> <span class="type">long</span> n, m; <span class="type">int</span> q;</span><br><span class="line">    cin &gt;&gt; c &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éœ€è¦ä¸ºæ¯è¡Œå»ºçº¿æ®µæ ‘ï¼Œç©ºé—´å¤ªå¤§</span></span><br><span class="line">    unordered_map&lt;<span class="type">long</span> <span class="type">long</span>, SegTree*&gt; rowTrees;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i++) {</span><br><span class="line">        <span class="type">int</span> t; <span class="type">long</span> <span class="type">long</span> x1, y1, x2, y2;</span><br><span class="line">        cin &gt;&gt; t &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="number">1</span>) {</span><br><span class="line">            <span class="keyword">if</span> (rowTrees.<span class="built_in">find</span>(y1) == rowTrees.<span class="built_in">end</span>()) {</span><br><span class="line">                rowTrees[y1] = <span class="keyword">new</span> <span class="built_in">SegTree</span>(m);</span><br><span class="line">            }</span><br><span class="line">            rowTrees[y1]-&gt;<span class="built_in">update</span>(<span class="number">1</span>, <span class="number">1</span>, m, x1, x2);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; p : rowTrees) {</span><br><span class="line">        ans += p.second-&gt;<span class="built_in">query</span>();</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-3-æ–¹æ³•ä¸‰ï¼šåŒºé—´åˆå¹¶æ³•"><a href="#2-3-æ–¹æ³•ä¸‰ï¼šåŒºé—´åˆå¹¶æ³•" class="headerlink" title="2.3 æ–¹æ³•ä¸‰ï¼šåŒºé—´åˆå¹¶æ³•"></a>2.3 æ–¹æ³•ä¸‰ï¼šåŒºé—´åˆå¹¶æ³•</h3><p><strong>æ€è·¯</strong>ï¼šå°†æ¯è¡Œçš„æ‰€æœ‰åŒºé—´æ”¶é›†èµ·æ¥ï¼Œæ’åºååˆå¹¶é‡å æˆ–ç›¸é‚»çš„åŒºé—´ï¼Œç›´æ¥è®¡ç®—å¹¶é›†é•¿åº¦ã€‚<br>é‚£è¿™ä¸ªå°±æ˜¯æœ€åçš„ä»£ç äº†ï¼Œç›´æ¥çœ‹ä¸‹é¢æŠŠ</p><h2 id="ä¸‰ã€è¯¦ç»†å®ç°ï¼šåŒºé—´åˆå¹¶æ³•"><a href="#ä¸‰ã€è¯¦ç»†å®ç°ï¼šåŒºé—´åˆå¹¶æ³•" class="headerlink" title="ä¸‰ã€è¯¦ç»†å®ç°ï¼šåŒºé—´åˆå¹¶æ³•"></a>ä¸‰ã€è¯¦ç»†å®ç°ï¼šåŒºé—´åˆå¹¶æ³•</h2><h3 id="3-1-æ•´ä½“æµç¨‹"><a href="#3-1-æ•´ä½“æµç¨‹" class="headerlink" title="3.1 æ•´ä½“æµç¨‹"></a>3.1 æ•´ä½“æµç¨‹</h3><p><strong>1.è¯»å…¥</strong><br>å°†æ°´å¹³æ“ä½œï¼ˆ$t=1$ï¼‰ï¼Œå­˜å…¥æ•°ç»„ <code>seg[]</code>ã€‚</p><p><strong>2.æ’åº</strong><br>æŒ‰è¡Œå·<code>h</code>å¯¹ <code>seg[]</code> æ’åºï¼Œä½¿åŒä¸€è¡Œçš„åŒºé—´è¿ç»­ã€‚</p><p><strong>3.é€è¡Œå¤„ç†</strong><br>å¯¹æ¯ä¸€è¡Œæ‰§è¡Œï¼š</p><ol><li>å°†è¯¥è¡Œæ‰€æœ‰åŒºé—´å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ <code>tmp[]</code></li><li>æŒ‰å·¦ç«¯ç‚¹<code>l</code>å¯¹ <code>tmp[]</code> æ’åº</li><li><strong>åˆå¹¶æ‰«æ</strong>ï¼š<ul><li>ç»´æŠ¤å½“å‰åŒºé—´ <code>[curL, curR]</code></li><li>éå†æ’åºåçš„åŒºé—´ <code>[L, R]</code>ï¼š<ul><li>å¦‚æœ <code>L &lt;= curR + 1</code>ï¼šå¯åˆå¹¶ï¼Œ<code>curR = max(curR, R)</code></li><li>å¦åˆ™ï¼šç»“ç®—å½“å‰åŒºé—´ï¼Œ<code>ans += curR - curL + 1</code>ï¼Œé‡ç½® <code>[curL, curR] = [L, R]</code></li></ul></li><li>éå†ç»“æŸåå†ç»“ç®—æœ€åä¸€ä¸ªåŒºé—´</li></ul></li></ol><p>æ˜¯ä¸æ˜¯ç®€å•é«˜æ•ˆçš„æ–¹æ³•å‘¢ï½</p><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><ul><li><strong>æ—¶é—´</strong>ï¼šä¸»è¦å¼€é”€æ˜¯æ’åºã€‚æŒ‰è¡Œå·æ’åº $O(cnt \log cnt)$ï¼Œæ¯è¡Œå†…éƒ¨æ’åºçš„æ€»é•¿åº¦ä¸è¶…è¿‡ $cnt$ï¼Œæ•…æ•´ä½“ $O(q \log q)$ã€‚</li><li><strong>ç©ºé—´</strong>ï¼šä¸¤ä¸ªå¤§å°ä¸º $q$ çš„é™æ€æ•°ç»„ <code>seg[]</code> å’Œ <code>tmp[]</code>ï¼Œç©ºé—´ $O(q)$ã€‚</li></ul><h2 id="CODE"><a href="#CODE" class="headerlink" title="CODE"></a>CODE</h2><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">QD</span> {</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> h;<span class="comment">//è¡Œå·</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> l;<span class="comment">//å·¦ç«¯ç‚¹</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> r;<span class="comment">//å³ç«¯ç‚¹</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">QD seg[<span class="number">100005</span>];</span><br><span class="line">QD tmp[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰è¡Œå·æ’åº</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp1</span><span class="params">(<span class="type">const</span> QD&amp; x, <span class="type">const</span> QD&amp; y)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> x.h &lt; y.h;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æŒ‰å·¦ç«¯ç‚¹æ’åº</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp2</span><span class="params">(<span class="type">const</span> QD&amp; x, <span class="type">const</span> QD&amp; y)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> x.l &lt; y.l;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="type">int</span> c; </span><br><span class="line">    cin &gt;&gt; c;</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> n, m;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i++) {</span><br><span class="line">        <span class="type">int</span> t; <span class="type">long</span> <span class="type">long</span> x1, y1, x2, y2;</span><br><span class="line">        cin &gt;&gt; t &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="number">1</span>) {</span><br><span class="line">            seg[cnt++] = {y1, x1, x2};</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‰è¡Œå·æ’åºï¼Œè®©åŒä¸€è¡Œçš„åŒºé—´è¿ç»­</span></span><br><span class="line">    <span class="built_in">sort</span>(seg, seg + cnt, cmp1);</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//éå†æ¯ä¸€è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; cnt; ) {</span><br><span class="line">        <span class="type">int</span> j = i;</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°åŒä¸€è¡Œçš„åŒºé—´ï¼ŒjæŒ‡å‘ä¸‹ä¸€è¡Œçš„å¼€å¤´</span></span><br><span class="line">        <span class="keyword">while</span> (j &lt; cnt &amp;&amp; seg[j].h == seg[i].h) {</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æŒ‰å·¦ç«¯ç‚¹æ’åº</span></span><br><span class="line">        <span class="type">int</span> len = j - i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; len; k++) {</span><br><span class="line">            tmp[k] = seg[i + k];</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">sort</span>(tmp, tmp + len, cmp2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//åˆå¹¶åŒºé—´å¹¶ç´¯åŠ é•¿åº¦</span></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> curL = tmp[<span class="number">0</span>].l;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> curR = tmp[<span class="number">0</span>].r;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt; len; k++) {</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> L = tmp[k].l;</span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> R = tmp[k].r;</span><br><span class="line">            <span class="keyword">if</span> (L &lt;= curR + <span class="number">1</span>) {<span class="comment">//å¯åˆå¹¶</span></span><br><span class="line">                <span class="keyword">if</span> (R &gt; curR) curR = R;</span><br><span class="line">            } <span class="keyword">else</span> {<span class="comment">//ä¸èƒ½åˆå¹¶ï¼Œç»“ç®—</span></span><br><span class="line">                ans += curR - curL + <span class="number">1</span>;</span><br><span class="line">                curL = L;</span><br><span class="line">                curR = R;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        ans += curR - curL + <span class="number">1</span>;<span class="comment">//åˆ«å¿˜äº†æœ€åä¸€ä¸ªåŒºé—´</span></span><br><span class="line">        </span><br><span class="line">        i = j;<span class="comment">// è·³åˆ°ä¸‹ä¸€è¡Œ</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><p><strong>ğŸŒ ç»“è¯­</strong></p><p>OKå•Šï¼Œåˆ†æ‹¿åˆ°äº†ã€‚æœ¬é¢˜è§£ç»“æŸ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å­ä»»åŠ¡-A-é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰&quot;&gt;&lt;a href=&quot;#å­ä»»åŠ¡-A-é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å­ä»»åŠ¡ A é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰&quot;&gt;&lt;/a&gt;å­ä»»åŠ¡ A é¢˜è§£ï¼ˆçº¯æ°´å¹³æŸ“è‰²ï¼‰&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;è¯´å¥å®è¯ï¼Œ</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2025/12/25/hello-world/"/>
    <id>http://example.com/2025/12/25/hello-world/</id>
    <published>2025-12-25T12:57:17.626Z</published>
    <updated>2025-11-25T09:22:14.953Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://app-36819-sanhai.cn24.ugdocker.link/">Sanhaiâ€™s Blogs</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h2><h3 id="æ–°å»ºä¸€ç¯‡æ–‡ç« "><a href="#æ–°å»ºä¸€ç¯‡æ–‡ç« " class="headerlink" title="æ–°å»ºä¸€ç¯‡æ–‡ç« "></a>æ–°å»ºä¸€ç¯‡æ–‡ç« </h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="å¼€å§‹æœåŠ¡"><a href="#å¼€å§‹æœåŠ¡" class="headerlink" title="å¼€å§‹æœåŠ¡"></a>å¼€å§‹æœåŠ¡</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://app-36819-sanhai.cn24.ugdocker.link/&quot;&gt;Sanhaiâ€™s Blogs&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https:</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>å­¦ä¹ å°ç»„ - é¢˜è§£</title>
    <link href="http://example.com/2025/12/11/T706110%E5%AD%A6%E4%B9%A0%E5%B0%8F%E7%BB%84%E9%A2%98%E8%A7%A3/"/>
    <id>http://example.com/2025/12/11/T706110%E5%AD%A6%E4%B9%A0%E5%B0%8F%E7%BB%84%E9%A2%98%E8%A7%A3/</id>
    <published>2025-12-11T15:07:36.000Z</published>
    <updated>2025-12-11T07:17:30.202Z</updated>
    
    <content type="html"><![CDATA[<h1 id="T706110-å­¦ä¹ å°ç»„"><a href="#T706110-å­¦ä¹ å°ç»„" class="headerlink" title="T706110 å­¦ä¹ å°ç»„"></a>T706110 å­¦ä¹ å°ç»„</h1><h2 id="é¢˜æ„ç®€è¿°"><a href="#é¢˜æ„ç®€è¿°" class="headerlink" title="é¢˜æ„ç®€è¿°"></a>é¢˜æ„ç®€è¿°</h2><p>ç»™å®šé•¿åº¦ä¸º $ n $ï¼ˆ$ n \leq 2 \times 10^5 $ï¼‰çš„åºåˆ— $ s $ï¼Œç»Ÿè®¡æ»¡è¶³ä¸‹æ ‡ä¸¥æ ¼é€’å¢ä¸”</p><p>$$<br>s_i &lt; s_j &lt; s_k \quad \text{æˆ–} \quad s_i &gt; s_j &gt; s_k<br>$$</p><p>çš„ä¸‰å…ƒç»„ $ (i, j, k) $ çš„æ•°é‡ã€‚</p><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a>ç®—æ³•æ€è·¯</h2><p>å°†ä¸‰å…ƒç»„é—®é¢˜è½¬åŒ–ä¸ºâ€œä¸­é—´äººâ€é—®é¢˜ï¼š</p><p>å¯¹äºæ¯ä¸ªä½ç½® $ j $ï¼Œç»Ÿè®¡ï¼š</p><ul><li>å‰é¢æ¯” $ s_j $ å°çš„æ•°é‡ï¼š$ \mathrm{preLess}[j] $</li><li>å‰é¢æ¯” $ s_j $ å¤§çš„æ•°é‡ï¼š$ \mathrm{preGreater}[j] $</li><li>åé¢æ¯” $ s_j $ å°çš„æ•°é‡ï¼š$ \mathrm{postLess}[j] $</li><li>åé¢æ¯” $ s_j $ å¤§çš„æ•°é‡ï¼š$ \mathrm{postGreater}[j] $</li></ul><p>åˆ™æ¯ä¸ªä½ç½® $ j $ çš„è´¡çŒ®ä¸ºï¼š</p><p>$$<br>\mathrm{preLess}[j] \times \mathrm{postGreater}[j] + \mathrm{preGreater}[j] \times \mathrm{postLess}[j]<br>$$</p><p>æ€»ç­”æ¡ˆä¸ºæ‰€æœ‰ä½ç½®è´¡çŒ®ä¹‹å’Œã€‚</p><h2 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h2><ol><li><strong>ç¦»æ•£åŒ–</strong>ï¼šå°†å€¼åŸŸæ˜ å°„åˆ°è¿ç»­åŒºé—´ï¼Œæ–¹ä¾¿æ ‘çŠ¶æ•°ç»„å¤„ç†ã€‚</li><li><strong>æ ‘çŠ¶æ•°ç»„</strong>ï¼šä¸¤æ¬¡æ‰«æï¼ˆæ­£åº + å€’åºï¼‰ç»Ÿè®¡å‰åå…³ç³»ã€‚</li><li><strong>ç´¯åŠ è´¡çŒ®</strong>ï¼šçº¿æ€§ç»Ÿè®¡æ¯ä¸ªä½ç½®çš„è´¡çŒ®ã€‚</li></ol><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š$ O(n \log n) $</li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š$ O(n) $</li></ul><h2 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, s[N], tmp[N], m;</span><br><span class="line">ll preL[N], preG[N], postL[N], postG[N], ans;</span><br><span class="line"><span class="type">int</span> c[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> v = <span class="number">1</span>)</span> </span>{</span><br><span class="line">    <span class="keyword">for</span> (; x &lt;= m; x += x &amp; -x) c[x] += v;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> x)</span> </span>{</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; x; x -= x &amp; -x) s += c[x];</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) {</span><br><span class="line">        cin &gt;&gt; s[i];</span><br><span class="line">        tmp[i] = s[i];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¦»æ•£åŒ–</span></span><br><span class="line">    <span class="built_in">sort</span>(tmp + <span class="number">1</span>, tmp + n + <span class="number">1</span>);</span><br><span class="line">    m = <span class="built_in">unique</span>(tmp + <span class="number">1</span>, tmp + n + <span class="number">1</span>) - tmp - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­£åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) {</span><br><span class="line">        <span class="type">int</span> r = <span class="built_in">lower_bound</span>(tmp + <span class="number">1</span>, tmp + m + <span class="number">1</span>, s[i]) - tmp;</span><br><span class="line">        preL[i] = <span class="built_in">ask</span>(r - <span class="number">1</span>);</span><br><span class="line">        preG[i] = <span class="built_in">ask</span>(m) - <span class="built_in">ask</span>(r);</span><br><span class="line">        <span class="built_in">add</span>(r);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å€’åº</span></span><br><span class="line">    <span class="built_in">memset</span>(c, <span class="number">0</span>, <span class="built_in">sizeof</span>(c));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; --i) {</span><br><span class="line">        <span class="type">int</span> r = <span class="built_in">lower_bound</span>(tmp + <span class="number">1</span>, tmp + m + <span class="number">1</span>, s[i]) - tmp;</span><br><span class="line">        postL[i] = <span class="built_in">ask</span>(r - <span class="number">1</span>);</span><br><span class="line">        postG[i] = <span class="built_in">ask</span>(m) - <span class="built_in">ask</span>(r);</span><br><span class="line">        <span class="built_in">add</span>(r);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç´¯åŠ ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        ans += preL[i] * postG[i] + preG[i] * postL[i];</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><ul><li>æ ‘çŠ¶æ•°ç»„å¸¸æ•°è¾ƒå°ï¼Œå¯ç›´æ¥é€šè¿‡ã€‚</li><li>æ³¨æ„ç¦»æ•£åŒ–æ—¶å¤„ç†é‡å¤å€¼ã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;T706110-å­¦ä¹ å°ç»„&quot;&gt;&lt;a href=&quot;#T706110-å­¦ä¹ å°ç»„&quot; class=&quot;headerlink&quot; title=&quot;T706110 å­¦ä¹ å°ç»„&quot;&gt;&lt;/a&gt;T706110 å­¦ä¹ å°ç»„&lt;/h1&gt;&lt;h2 id=&quot;é¢˜æ„ç®€è¿°&quot;&gt;&lt;a href=&quot;#é¢˜æ„ç®€è¿°&quot; cla</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>é™æ°´ - é¢˜è§£</title>
    <link href="http://example.com/2025/12/04/T706068%E9%99%8D%E6%B0%B4%E9%A2%98%E8%A7%A3/"/>
    <id>http://example.com/2025/12/04/T706068%E9%99%8D%E6%B0%B4%E9%A2%98%E8%A7%A3/</id>
    <published>2025-12-04T13:40:36.000Z</published>
    <updated>2025-12-10T00:50:56.730Z</updated>
    
    <content type="html"><![CDATA[<p><strong>é¢˜æ„ç†è§£</strong></p><p>æœ‰ N åº§å±±å›´æˆä¸€åœˆï¼ˆN æ˜¯å¥‡æ•°ï¼‰ï¼Œæ¯åº§å±± i ä¼šä¸‹ $p_i$ å‡é›¨ã€‚è¿™äº›é›¨æ°´ä¼šå¹³å‡åˆ†ç»™å·¦å³ä¸¤ä¸ªå¤§åï¼šå·¦è¾¹çš„å¤§å i-1 å’Œå³è¾¹çš„å¤§å i å„å¾—åˆ° $p_i/2$ å‡ã€‚å¤§å i æ”¶é›†åˆ°çš„æ€»æ°´é‡å°±æ˜¯ $a_i$ã€‚</p><p>æ‰€ä»¥ $a_i$ å’Œ $p_i$ çš„å…³ç³»å°±æ˜¯ï¼š</p><p>$$<br>a_i = \frac{p_i + p_{i+1}}{2}<br>$$</p><p>ä¸¤è¾¹ä¹˜ 2ï¼š</p><p>$$<br>p_i + p_{i+1} = 2a_i \tag{1}<br>$$</p><p><strong>æ ¸å¿ƒæ€è·¯</strong></p><p>è¿™ä¸ªå¼å­å¾ˆå…³é”®ï¼å®ƒå‘Šè¯‰æˆ‘ä»¬ï¼šåªè¦çŸ¥é“ $p_i$ï¼Œå°±èƒ½ç®—å‡º $p_{i+1}$ï¼š</p><p>$$<br>p_{i+1} = 2a_i - p_i \tag{2}<br>$$</p><p>é—®é¢˜å°±å˜æˆäº†ï¼šæ€ä¹ˆæ±‚å‡º $p_1$ï¼Ÿ</p><p>å› ä¸º N æ˜¯å¥‡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç»•ä¸€åœˆç”¨ $p_1$ æŠŠè‡ªå·±è¡¨ç¤ºå‡ºæ¥ã€‚ä» $p_1$ å¼€å§‹ï¼Œåå¤ç”¨å…¬å¼ (2) æ¨ä¸‹å»ï¼š</p><p>$$<br>\begin{aligned}<br>p_2 &amp;= 2a_1 - p_1 \<br>p_3 &amp;= 2a_2 - p_2 = 2a_2 - (2a_1 - p_1) = -2a_1 + 2a_2 + p_1 \<br>p_4 &amp;= 2a_3 - p_3 = 2a_3 - (-2a_1 + 2a_2 + p_1) = 2a_1 - 2a_2 + 2a_3 - p_1<br>\end{aligned}<br>$$</p><p>æˆ‘ä»¬æ³¨æ„åˆ°ä¸€ä¸ªè§„å¾‹ï¼šå¥‡æ•°é¡¹æ˜¯ $p_1$ åŠ ä¸Šä¸€å † $\pm 2a_i$ï¼Œå¶æ•°é¡¹æ˜¯ $-p_1$ åŠ ä¸Šä¸€å † $\pm 2a_i$ã€‚</p><p>å› ä¸º N æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥ $p_N$ ä¹Ÿæ˜¯å¥‡æ•°é¡¹ï¼Œå¯ä»¥å†™æˆï¼š</p><p>$$<br>p_N = p_1 + 2(a_1 - a_2 + a_3 - a_4 + \dots - a_{N-1})<br>$$</p><p>æ³¨æ„æœ€åä¸€ä¸ªæ–¹ç¨‹ (1) å½“ $i=N$ æ—¶æ˜¯ï¼š</p><p>$$<br>p_N + p_1 = 2a_N<br>$$</p><p>æŠŠ $p_N$ çš„è¡¨è¾¾å¼ä»£å…¥ï¼š</p><p>$$<br>(p_1 + 2(a_1 - a_2 + \dots - a_{N-1})) + p_1 = 2a_N<br>$$</p><p>ä¸¤è¾¹é™¤ä»¥ 2ï¼Œå¾—åˆ°ï¼š</p><p>$$<br>p_1 = a_N - a_1 + a_2 - a_3 + \dots + a_{N-1}<br>$$</p><p>ä¹Ÿå°±æ˜¯ï¼š</p><p>$$<br>p_1 = a_N + \sum_{i=1}^{N-1} (-1)^{i+1} a_i<br>$$</p><p><strong>ç®—æ³•æµç¨‹</strong></p><ol><li>ç”¨å…¬å¼ç®—å‡º $p_1$</li><li>ä» $i=1$ åˆ° $N-1$ï¼Œç”¨é€’æ¨å¼ $p_{i+1} = 2a_i - p_i$ ç®—å‡ºæ‰€æœ‰ $p_i$</li></ol><p>å¤æ‚åº¦æ˜¯ $O(N)$ æ—¶é—´ï¼Œ$O(N)$ ç©ºé—´ï¼ˆå­˜ $a_i$ å’Œ $p_i$ æ•°ç»„ï¼‰ã€‚</p><p><strong>ä»£ç å®ç°</strong></p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">100005</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> p[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> N;</span><br><span class="line">    cin &gt;&gt; N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) cin &gt;&gt; a[i];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¡ç®— p1ï¼šäº¤é”™å’Œ</span></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> p1 = a[N];  <span class="comment">// å…ˆæ”¾ a_N</span></span><br><span class="line">    <span class="type">int</span> sign = <span class="number">+1</span>;            <span class="comment">// a_1 çš„ç³»æ•°æ˜¯ +1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span>; ++i) {</span><br><span class="line">        p1 += sign * a[i];</span><br><span class="line">        sign = -sign;         <span class="comment">// æ­£è´Ÿäº¤æ›¿</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    p[<span class="number">0</span>] = p1;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; N; ++i) {</span><br><span class="line">        p[i] = <span class="number">2LL</span> * a[i - <span class="number">1</span>] - p[i - <span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) {</span><br><span class="line">        <span class="keyword">if</span> (i) cout &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        cout &lt;&lt; p[i];</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä¸€äº›å°ç»†èŠ‚</strong></p><ul><li>æ•°æ®èŒƒå›´æœ€å¤§åˆ° $10^9$ï¼ŒN æœ€å¤§åˆ° $10^5-1$ï¼Œæ‰€ä»¥ $p_i$ å¯èƒ½å¾ˆå¤§ï¼Œè¦ç”¨ long long</li><li>N æ˜¯å¥‡æ•°è¿™ä¸ªæ¡ä»¶éå¸¸å…³é”®ï¼Œå¦‚æœ N æ˜¯å¶æ•°ï¼Œæ–¹ç¨‹ç»„å¯èƒ½æ— è§£æˆ–æœ‰æ— ç©·å¤šè§£</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;é¢˜æ„ç†è§£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ N åº§å±±å›´æˆä¸€åœˆï¼ˆN æ˜¯å¥‡æ•°ï¼‰ï¼Œæ¯åº§å±± i ä¼šä¸‹ $p_i$ å‡é›¨ã€‚è¿™äº›é›¨æ°´ä¼šå¹³å‡åˆ†ç»™å·¦å³ä¸¤ä¸ªå¤§åï¼šå·¦è¾¹çš„å¤§å i-1 å’Œå³è¾¹çš„å¤§å i å„å¾—åˆ° $p_i/2$ å‡ã€‚å¤§å i æ”¶é›†åˆ°çš„æ€»æ°´é‡å°±æ˜¯ $a_i$ã€‚&lt;/</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>æœ€å°çš„x - é¢˜è§£</title>
    <link href="http://example.com/2025/12/04/T706109%E6%9C%80%E5%B0%8F%E7%9A%84x%E9%A2%98%E8%A7%A3/"/>
    <id>http://example.com/2025/12/04/T706109%E6%9C%80%E5%B0%8F%E7%9A%84x%E9%A2%98%E8%A7%A3/</id>
    <published>2025-12-04T13:40:36.000Z</published>
    <updated>2025-12-10T00:50:26.962Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p><strong>æ€è·¯</strong></p><p>é¢˜ç›®è¦æ±‚æœ€å°çš„æ­£æ•´æ•° $x$ï¼Œä½¿å¾— $n+x^2$ æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚</p><p>è®¾ $y^2=n+x^2$ï¼Œç§»é¡¹åå¹³æ–¹å·®å…¬å¼ç›´æ¥å¸¦èµ°ï¼š</p><p>$$<br>y^2-x^2=n \implies (y-x)(y+x)=n<br>$$</p><p>ä»¤ $a=y-x$, $b=y+x$ï¼Œåˆ™ $a\cdot b=n$ã€‚æ˜¾ç„¶ $a&lt;b$ï¼Œè€Œä¸”å› ä¸º $x,b,y$ éƒ½æ˜¯æ•´æ•°ï¼Œ$a$ å’Œ $b$ å¿…é¡»åŒå¥‡å¶ï¼ˆåŒä¸ºå¥‡æ•°æˆ–åŒä¸ºå¶æ•°ï¼‰ã€‚</p><p>ä¸€æ—¦æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å› å­å¯¹ $(a,b)$ï¼Œå°±æœ‰</p><p>$$<br>x=\frac{b-a}{2},\quad y=\frac{a+b}{2}<br>$$</p><p>ä¸ºäº†è®© $x$ æœ€å°ï¼Œéœ€è¦ $b-a$ æœ€å°ã€‚æ³¨æ„åˆ° $b=n/a$ï¼Œ$a$ è¶Šå¤§ï¼Œ$b$ è¶Šå°ï¼Œå·®å°±è¶Šå°ã€‚æ‰€ä»¥æˆ‘ä»¬ä» $\lfloor\sqrt n\rfloor$ å¼€å§‹<strong>å€’åº</strong>æšä¸¾ $a$ï¼Œç¬¬ä¸€ä¸ªåˆæ³•çš„å› å­å¯¹ä¸€å®šå¯¹åº”æœ€å°çš„ $x$ã€‚</p><p><strong>æ— è§£</strong></p><p>ä¸¤ä¸ªåŒå¥‡å¶æ€§çš„æ•°ç›¸ä¹˜ï¼Œç»“æœè¦ä¹ˆæ˜¯å¥‡æ•°ï¼Œè¦ä¹ˆæ˜¯ 4 çš„å€æ•°ã€‚æ‰€ä»¥å¦‚æœ $n\equiv 2\pmod 4$ï¼Œä¸€å®šæ— è§£ã€‚</p><p>å¦å¤–ï¼Œ$n=1$ å’Œ $n=4$ æ—¶ï¼Œå”¯ä¸€çš„å› å­å¯¹æ˜¯ $(1,1)$ æˆ– $(2,2)$ï¼Œç®—å‡ºæ¥ $x=0$ï¼Œä¸ç¬¦åˆæ­£æ•´æ•°è¦æ±‚ã€‚è¿™ä¸¤ç§æƒ…å†µç›´æ¥è¾“å‡º $-1$ã€‚</p><p>å…¶ä½™æƒ…å†µå¿…ç„¶æœ‰è§£ã€‚</p><p><strong>ä»£ç </strong></p><figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="type">long</span> n; cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">if</span> (n%<span class="number">4</span>==<span class="number">2</span> || n==<span class="number">1</span> || n==<span class="number">4</span>) { cout&lt;&lt;<span class="number">-1</span>; <span class="keyword">return</span> <span class="number">0</span>; }</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ans=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">long</span> <span class="type">long</span> a=<span class="built_in">sqrt</span>(n); a&gt;=<span class="number">1</span>; --a) {</span><br><span class="line">    <span class="keyword">if</span> (n%a!=<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> b=n/a;</span><br><span class="line">    <span class="keyword">if</span> ((a%<span class="number">2</span>)==(b%<span class="number">2</span>) &amp;&amp; a&lt;b) {</span><br><span class="line">        ans=(b-a)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">cout&lt;&lt;ans;</span><br></pre></td></tr></tbody></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é¢˜è§£&quot;&gt;&lt;a href=&quot;#é¢˜è§£&quot; class=&quot;headerlink&quot; title=&quot;é¢˜è§£&quot;&gt;&lt;/a&gt;é¢˜è§£&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æ€è·¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¢˜ç›®è¦æ±‚æœ€å°çš„æ­£æ•´æ•° $x$ï¼Œä½¿å¾— $n+x^2$ æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Sanhai-loading</title>
    <link href="http://example.com/2025/11/29/Sanhai-loading/"/>
    <id>http://example.com/2025/11/29/Sanhai-loading/</id>
    <published>2025-11-29T13:40:50.000Z</published>
    <updated>2025-11-29T13:52:06.942Z</updated>
    
    <content type="html"><![CDATA[<h3 id="âœ…-ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰"><a href="#âœ…-ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰" class="headerlink" title="âœ… ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰"></a>âœ… ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/root/addon/sanhai-loading/</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ template.yaml</span><br><span class="line">â”œâ”€â”€ index.js</span><br><span class="line">â”œâ”€â”€ templates/</span><br><span class="line">â”‚   â””â”€â”€ partials/</span><br><span class="line">â”‚       â””â”€â”€ loading.html</span><br><span class="line">â””â”€â”€ static/</span><br><span class="line">    â””â”€â”€ sanhai-loading.css</span><br></pre></td></tr></tbody></table></figure><h3 id="âœ…-äºŒã€æ ¸å¿ƒæ–‡ä»¶"><a href="#âœ…-äºŒã€æ ¸å¿ƒæ–‡ä»¶" class="headerlink" title="âœ… äºŒã€æ ¸å¿ƒæ–‡ä»¶"></a>âœ… äºŒã€æ ¸å¿ƒæ–‡ä»¶</h3><p><strong>package.json</strong></p><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"sanhai-loading"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"version"</span><span class="punctuation">:</span> <span class="string">"1.0.0"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"description"</span><span class="punctuation">:</span> <span class="string">"SanhaiOJ 7 æ¬¾å¼¹æ€§åŠ è½½åŠ¨ç”» Â· åå°å¯åˆ‡æ¢"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"main"</span><span class="punctuation">:</span> <span class="string">"index.js"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"template"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"style"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure><p><strong>template.yaml</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">partials/loading.html:</span> <span class="string">./templates/partials/loading.html</span></span><br></pre></td></tr></tbody></table></figure><p><strong>index.js</strong></p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params">ctx</span>) {</span><br><span class="line">  <span class="comment">// åå°é…ç½®é¡¹ï¼ˆåŠ¨ç”»ç±»å‹ + é€Ÿåº¦ï¼‰</span></span><br><span class="line">  ctx.<span class="property">config</span>.<span class="title function_">set</span>(<span class="string">'sanhai_loading_type'</span>, <span class="string">'dots'</span>, <span class="literal">true</span>);</span><br><span class="line">  ctx.<span class="property">config</span>.<span class="title function_">set</span>(<span class="string">'sanhai_loading_speed'</span>, <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><h3 id="âœ…-ä¸‰ã€æ¨¡æ¿æ–‡ä»¶ï¼ˆå®˜æ–¹è·¯å¾„ï¼‰"><a href="#âœ…-ä¸‰ã€æ¨¡æ¿æ–‡ä»¶ï¼ˆå®˜æ–¹è·¯å¾„ï¼‰" class="headerlink" title="âœ… ä¸‰ã€æ¨¡æ¿æ–‡ä»¶ï¼ˆå®˜æ–¹è·¯å¾„ï¼‰"></a>âœ… ä¸‰ã€æ¨¡æ¿æ–‡ä»¶ï¼ˆå®˜æ–¹è·¯å¾„ï¼‰</h3><p><strong>templates/partials/loading.html</strong></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- SanhaiOJ å¼¹æ€§åŠ è½½åŠ¨ç”» Â· 7 é€‰ 1 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"sanhai-loading"</span> <span class="attr">class</span>=<span class="string">"sanhai-loader {{ config.get('sanhai_loading_type', 'dots') }}"</span> <span class="attr">style</span>=<span class="string">"--speed:{{ config.get('sanhai_loading_speed', 1) }}s"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"{{ url('static', 'sanhai-loading.css') }}"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="âœ…-å››ã€é›†ä¸­æ ·å¼ï¼ˆ7-æ¬¾åŠ¨ç”»ï¼‰"><a href="#âœ…-å››ã€é›†ä¸­æ ·å¼ï¼ˆ7-æ¬¾åŠ¨ç”»ï¼‰" class="headerlink" title="âœ… å››ã€é›†ä¸­æ ·å¼ï¼ˆ7 æ¬¾åŠ¨ç”»ï¼‰"></a>âœ… å››ã€é›†ä¸­æ ·å¼ï¼ˆ7 æ¬¾åŠ¨ç”»ï¼‰</h3><p><strong>static/sanhai-loading.css</strong></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ---- åŸºç¡€è¦†ç›– ---- */</span></span><br><span class="line"><span class="selector-id">#sanhai-loading</span>{</span><br><span class="line">  <span class="attribute">position</span>:fixed;<span class="attribute">inset</span>:<span class="number">0</span>;<span class="attribute">z-index</span>:<span class="number">9999</span>;</span><br><span class="line">  <span class="attribute">display</span>:flex;<span class="attribute">align-items</span>:center;<span class="attribute">justify-content</span>:center;</span><br><span class="line">  <span class="attribute">background</span>:<span class="number">#fff</span>;     <span class="comment">/* å®˜æ–¹ç™½åº• */</span></span><br><span class="line">  <span class="attr">--speed</span>:<span class="number">1s</span>;          <span class="comment">/* åå°é€Ÿåº¦å˜é‡ */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ---- 7 æ¬¾åŠ¨ç”» ---- */</span></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span>{</span><br><span class="line">  <span class="attribute">display</span>:flex;<span class="attribute">gap</span>:<span class="number">8px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span>{</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">''</span>;<span class="attribute">width</span>:<span class="number">10px</span>;<span class="attribute">height</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>:dotsJump <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span><span class="selector-pseudo">::before</span>{<span class="attribute">animation-delay</span>:.<span class="number">1s</span>;}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.dots</span><span class="selector-pseudo">::after</span>{<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;}</span><br><span class="line"><span class="keyword">@keyframes</span> dotsJump{<span class="number">0%</span>,<span class="number">80%</span>,<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">40%</span>{<span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">12px</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.ring</span>{</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">border</span>:<span class="number">4px</span> solid <span class="number">#165DFF</span>;<span class="attribute">border-top-color</span>:transparent;<span class="attribute">border-radius</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>:ringElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">@keyframes</span> ringElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">180deg</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">360deg</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span>{</span><br><span class="line">  <span class="attribute">display</span>:flex;<span class="attribute">gap</span>:<span class="number">4px</span>;<span class="attribute">height</span>:<span class="number">32px</span>;<span class="attribute">align-items</span>:flex-end;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span><span class="selector-pseudo">::after</span>,</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span>{</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">''</span>;<span class="attribute">width</span>:<span class="number">6px</span>;<span class="attribute">height</span>:<span class="number">100%</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">animation</span>:barElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span><span class="selector-pseudo">::before</span>{<span class="attribute">animation-delay</span>:.<span class="number">1s</span>;}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.bar</span><span class="selector-pseudo">::after</span>{<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;}</span><br><span class="line"><span class="keyword">@keyframes</span> barElastic{<span class="number">0%</span>,<span class="number">80%</span>,<span class="number">100%</span>{<span class="attribute">height</span>:<span class="number">20%</span>;}<span class="number">40%</span>{<span class="attribute">height</span>:<span class="number">100%</span>;}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.pulse</span>{</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>:pulseElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">@keyframes</span> pulseElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.95</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1.3</span>);<span class="attribute">opacity</span>:<span class="number">0.7</span>;}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.95</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.orbit</span>{</span><br><span class="line">  <span class="attribute">position</span>:relative;<span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.orbit</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.orbit</span><span class="selector-pseudo">::after</span>{</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">''</span>;<span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">100%</span>;<span class="attribute">border</span>:<span class="number">3px</span> solid <span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>:orbitElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.orbit</span><span class="selector-pseudo">::after</span>{<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;<span class="attribute">border-color</span>:<span class="number">#14C4D9</span>;}</span><br><span class="line"><span class="keyword">@keyframes</span> orbitElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.3</span>);<span class="attribute">opacity</span>:<span class="number">0</span>;}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.text</span>{</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">20px</span>;<span class="attribute">font-weight</span>:<span class="number">600</span>;<span class="attribute">color</span>:<span class="number">#165DFF</span>;<span class="attribute">letter-spacing</span>:<span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">animation</span>:textElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">@keyframes</span> textElastic{<span class="number">0%</span>,<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1.15</span>);}}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sanhai-loader</span><span class="selector-class">.arc</span>{</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">background</span>:transparent;</span><br><span class="line">  <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Cpath d='M24 4 A20 20 0 1 1 24 44' stroke='%23165DFF' stroke-width='4' fill='none' stroke-linecap='round' stroke-dasharray='94.2' stroke-dashoffset='94.2'/%3E%3C/svg%3E"</span>);</span><br><span class="line">  <span class="attribute">animation</span>:arcElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">@keyframes</span> arcElastic{<span class="number">0%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">94.2</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>);}<span class="number">50%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">0</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">540deg</span>);}<span class="number">100%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">94.2</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">1080deg</span>);}}</span><br></pre></td></tr></tbody></table></figure><h3 id="âœ…-äº”ã€å¯ç”¨-åå°é…ç½®"><a href="#âœ…-äº”ã€å¯ç”¨-åå°é…ç½®" class="headerlink" title="âœ… äº”ã€å¯ç”¨ &amp; åå°é…ç½®"></a>âœ… äº”ã€å¯ç”¨ &amp; åå°é…ç½®</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hydrooj addon add /root/addon/sanhai-loading</span><br><span class="line">pm2 restart hydrooja</span><br></pre></td></tr></tbody></table></figure><p>è¿›å…¥ <strong>ç®¡ç†åå° â†’ ç³»ç»Ÿ â†’ é…ç½®</strong>ï¼Œæ–°å¢ä¸¤é¡¹ï¼š</p><table><thead><tr><th>é”®</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>sanhai_loading_type</code></td><td><code>dots</code> / <code>ring</code> / <code>bar</code> / <code>pulse</code> / <code>orbit</code> / <code>text</code> / <code>arc</code></td><td>7 æ¬¾åŠ¨ç”»å¯é€‰</td></tr><tr><td><code>sanhai_loading_speed</code></td><td><code>0.5</code> ~ <code>3</code>ï¼ˆç§’ï¼‰</td><td>å®æ—¶è°ƒé€Ÿ</td></tr></tbody></table><p>åˆ·æ–°ä»»æ„é¡µé¢ â†’ å®˜æ–¹ <code>partials/loading.html</code> å·²è¢«æ’ä»¶æ›¿æ¢ï¼Œ<strong>å‡çº§æ— æŸ</strong>ã€‚</p><h1 id="é€‚ç”¨é€‰æ‹©é¡µé¢"><a href="#é€‚ç”¨é€‰æ‹©é¡µé¢" class="headerlink" title="é€‚ç”¨é€‰æ‹©é¡µé¢"></a>é€‚ç”¨é€‰æ‹©é¡µé¢</h1><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>SanhaiOJ åŠ è½½åŠ¨ç”»å®éªŒå®¤ï¼ˆç™½åº•å®Œæ•´ï¼‰<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-pseudo">:root</span>{<span class="attr">--speed</span>:<span class="number">1s</span>;<span class="attr">--accent</span>:<span class="number">#165DFF</span>;}</span></span><br><span class="line"><span class="language-css">    *{<span class="attribute">box-sizing</span>:border-box;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span>{</span></span><br><span class="line"><span class="language-css">      <span class="attribute">min-height</span>:<span class="number">100vh</span>;<span class="attribute">display</span>:flex;<span class="attribute">flex-direction</span>:column;<span class="attribute">align-items</span>:center;<span class="attribute">justify-content</span>:center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>:<span class="number">#ffffff</span>;<span class="attribute">font-family</span>:-apple-system,BlinkMacSystemFont,<span class="string">"Segoe UI"</span>,Roboto,<span class="string">"Helvetica Neue"</span>,Arial,sans-serif;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>:<span class="number">40px</span> <span class="number">24px</span>;</span></span><br><span class="line"><span class="language-css">    }</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">header</span>{<span class="attribute">font-size</span>:<span class="number">24px</span>;<span class="attribute">font-weight</span>:<span class="number">600</span>;<span class="attribute">margin-bottom</span>:<span class="number">24px</span>;<span class="attribute">color</span>:<span class="number">#165DFF</span>;}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* é€Ÿåº¦æ»‘å— */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.control-bar</span>{<span class="attribute">margin-bottom</span>:<span class="number">24px</span>;<span class="attribute">font-size</span>:<span class="number">14px</span>;<span class="attribute">color</span>:<span class="number">#4e5969</span>;<span class="attribute">display</span>:flex;<span class="attribute">align-items</span>:center;<span class="attribute">gap</span>:<span class="number">8px</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"range"</span>]</span>{<span class="attribute">width</span>:<span class="number">160px</span>;<span class="attribute">cursor</span>:pointer;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#speedValue</span>{<span class="attribute">display</span>:inline-block;<span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">text-align</span>:center;<span class="attribute">font-weight</span>:<span class="number">600</span>;<span class="attribute">color</span>:<span class="number">#165DFF</span>;}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* å®¹å™¨å¸ƒå±€ï¼ˆåŸæ’åˆ—æ–¹å¼ï¼‰ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.container</span>{<span class="attribute">display</span>:flex;<span class="attribute">gap</span>:<span class="number">24px</span>;<span class="attribute">flex-wrap</span>:wrap;<span class="attribute">justify-content</span>:center;}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* å¡ç‰‡æ ·å¼ï¼ˆç™½åº•ï¼‰ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.card</span>{</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>:<span class="number">160px</span>;<span class="attribute">height</span>:<span class="number">160px</span>;<span class="attribute">border-radius</span>:<span class="number">8px</span>;<span class="attribute">background</span>:<span class="number">#f7f8fa</span>;<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#e5e6eb</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>:flex;<span class="attribute">flex-direction</span>:column;<span class="attribute">align-items</span>:center;<span class="attribute">justify-content</span>:center;<span class="attribute">cursor</span>:pointer;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">transition</span>:transform .<span class="number">25s</span> ease,box-shadow .<span class="number">25s</span> ease;</span></span><br><span class="line"><span class="language-css">    }</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.card</span><span class="selector-pseudo">:hover</span>{<span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">4px</span>);<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">4px</span> <span class="number">12px</span> <span class="built_in">rgba</span>(<span class="number">22</span>,<span class="number">93</span>,<span class="number">255</span>,.<span class="number">15</span>);}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.label</span>{<span class="attribute">margin-top</span>:<span class="number">8px</span>;<span class="attribute">font-size</span>:<span class="number">13px</span>;<span class="attribute">color</span>:<span class="number">#4e5969</span>;}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* åŠ¨ç”»é›†åˆï¼ˆç¡®ä¿å…ƒç´ å¯è§ï¼‰ */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.dots</span>{<span class="attribute">display</span>:flex;<span class="attribute">gap</span>:<span class="number">8px</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.dots</span> <span class="selector-tag">span</span>{<span class="attribute">width</span>:<span class="number">10px</span>;<span class="attribute">height</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">animation</span>:dotsJump <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.dots</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>){<span class="attribute">animation-delay</span>:.<span class="number">1s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.dots</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>){<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> dotsJump{<span class="number">0%</span>,<span class="number">80%</span>,<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">translateY</span>(<span class="number">0</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">40%</span>{<span class="attribute">transform</span>:<span class="built_in">translateY</span>(-<span class="number">12px</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.ring</span>{<span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">border</span>:<span class="number">4px</span> solid <span class="number">#165DFF</span>;<span class="attribute">border-top-color</span>:transparent;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">animation</span>:ringElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> ringElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">180deg</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">360deg</span>) <span class="built_in">scale</span>(<span class="number">1</span>);}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span>{<span class="attribute">display</span>:flex;<span class="attribute">gap</span>:<span class="number">4px</span>;<span class="attribute">height</span>:<span class="number">32px</span>;<span class="attribute">align-items</span>:flex-end;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span> <span class="selector-tag">span</span>{<span class="attribute">width</span>:<span class="number">6px</span>;<span class="attribute">height</span>:<span class="number">100%</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">3px</span>;<span class="attribute">animation</span>:barElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>){<span class="attribute">animation-delay</span>:.<span class="number">1s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>){<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>){<span class="attribute">animation-delay</span>:.<span class="number">3s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.bar</span> <span class="selector-tag">span</span><span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>){<span class="attribute">animation-delay</span>:.<span class="number">4s</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> barElastic{<span class="number">0%</span>,<span class="number">80%</span>,<span class="number">100%</span>{<span class="attribute">height</span>:<span class="number">20%</span>;}<span class="number">40%</span>{<span class="attribute">height</span>:<span class="number">100%</span>;}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.pulse</span>{<span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;<span class="attribute">background</span>:<span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">animation</span>:pulseElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> pulseElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.95</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1.3</span>);<span class="attribute">opacity</span>:<span class="number">0.7</span>;}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.95</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.orbit</span>{<span class="attribute">position</span>:relative;<span class="attribute">width</span>:<span class="number">40px</span>;<span class="attribute">height</span>:<span class="number">40px</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.orbit</span><span class="selector-pseudo">::before</span>,<span class="selector-class">.orbit</span><span class="selector-pseudo">::after</span>{<span class="attribute">content</span>:<span class="string">''</span>;<span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">100%</span>;<span class="attribute">border</span>:<span class="number">3px</span> solid <span class="number">#165DFF</span>;<span class="attribute">border-radius</span>:<span class="number">50%</span>;<span class="attribute">animation</span>:orbitElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">45</span>,.<span class="number">03</span>,.<span class="number">51</span>,<span class="number">1.4</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.orbit</span><span class="selector-pseudo">::after</span>{<span class="attribute">animation-delay</span>:.<span class="number">2s</span>;<span class="attribute">border-color</span>:<span class="number">#14C4D9</span>;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> orbitElastic{<span class="number">0%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.3</span>);<span class="attribute">opacity</span>:<span class="number">0</span>;}<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);<span class="attribute">opacity</span>:<span class="number">1</span>;}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.text</span>{<span class="attribute">font-size</span>:<span class="number">20px</span>;<span class="attribute">font-weight</span>:<span class="number">600</span>;<span class="attribute">color</span>:<span class="number">#165DFF</span>;<span class="attribute">letter-spacing</span>:<span class="number">2px</span>;<span class="attribute">animation</span>:textElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> textElastic{<span class="number">0%</span>,<span class="number">100%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1</span>);}<span class="number">50%</span>{<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">1.15</span>);}}</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.arc</span> <span class="selector-tag">svg</span>{<span class="attribute">animation</span>:arcElastic <span class="built_in">var</span>(--speed) <span class="built_in">cubic-bezier</span>(.<span class="number">68</span>,-.<span class="number">55</span>,.<span class="number">27</span>,<span class="number">1.55</span>) infinite;}</span></span><br><span class="line"><span class="language-css">    <span class="keyword">@keyframes</span> arcElastic{<span class="number">0%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">94.2</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0deg</span>);}<span class="number">50%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">0</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">540deg</span>);}<span class="number">100%</span>{<span class="attribute">stroke-dashoffset</span>:<span class="number">94.2</span>;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">1080deg</span>);}}</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> root=<span class="variable language_">document</span>.<span class="property">documentElement</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> range=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'speedRange'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> value=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'speedValue'</span>);</span></span><br><span class="line"><span class="language-javascript">    range.<span class="property">oninput</span>=<span class="function">()=&gt;</span>{</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> v=<span class="built_in">parseFloat</span>(range.<span class="property">value</span>).<span class="title function_">toFixed</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">      root.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">'--speed'</span>,v+<span class="string">'s'</span>);</span></span><br><span class="line"><span class="language-javascript">      value.<span class="property">textContent</span>=v;</span></span><br><span class="line"><span class="language-javascript">    };</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>SanhaiOJ åŠ è½½åŠ¨ç”»å®éªŒå®¤ï¼ˆç™½åº•å®Œæ•´ï¼‰<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"control-bar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"speedRange"</span>&gt;</span>é€Ÿåº¦ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">id</span>=<span class="string">"speedRange"</span> <span class="attr">min</span>=<span class="string">"0.5"</span> <span class="attr">max</span>=<span class="string">"3"</span> <span class="attr">step</span>=<span class="string">"0.1"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"speedValue"</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1. ç‚¹è·³ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"dots"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dots"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Dots<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 2. åœ†ç¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"ring"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ring"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Ring<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 3. æŸ±çŠ¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"bar"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Bar<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 4. è„‰å†² --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"pulse"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pulse"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Pulse<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 5. è½¨é“ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"orbit"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"orbit"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Orbit<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 6. æ–‡å­— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>SanhaiOJ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Text<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 7. å¼§å½¢å›æ—‹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span> <span class="attr">data-anim</span>=<span class="string">"arc"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"arc"</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"48"</span> <span class="attr">height</span>=<span class="string">"48"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 48 48"</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M24 4 A20 20 0 1 1 24 44"</span> <span class="attr">stroke</span>=<span class="string">"#165DFF"</span> <span class="attr">stroke-width</span>=<span class="string">"4"</span> <span class="attr">fill</span>=<span class="string">"none"</span> <span class="attr">stroke-linecap</span>=<span class="string">"round"</span> <span class="attr">stroke-dasharray</span>=<span class="string">"94.2"</span> <span class="attr">stroke-dashoffset</span>=<span class="string">"94.2"</span>/&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"label"</span>&gt;</span>Arc<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> root=<span class="variable language_">document</span>.<span class="property">documentElement</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> range=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'speedRange'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> value=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'speedValue'</span>);</span></span><br><span class="line"><span class="language-javascript">    range.<span class="property">oninput</span>=<span class="function">()=&gt;</span>{</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> v=<span class="built_in">parseFloat</span>(range.<span class="property">value</span>).<span class="title function_">toFixed</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">      root.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">'--speed'</span>,v+<span class="string">'s'</span>);</span></span><br><span class="line"><span class="language-javascript">      value.<span class="property">textContent</span>=v;</span></span><br><span class="line"><span class="language-javascript">    };</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;âœ…-ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰&quot;&gt;&lt;a href=&quot;#âœ…-ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;âœ… ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰&quot;&gt;&lt;/a&gt;âœ… ä¸€ã€æ’ä»¶ç›®å½•ï¼ˆå®˜æ–¹ç»“æ„ï¼‰&lt;/h3&gt;&lt;figure class=&quot;highlight </summary>
      
    
    
    
    <category term="æ’ä»¶" scheme="http://example.com/categories/%E6%8F%92%E4%BB%B6/"/>
    
    <category term="OJ" scheme="http://example.com/categories/%E6%8F%92%E4%BB%B6/OJ/"/>
    
    
    <category term="SanhaiOJåŠ è½½åŠ¨ç”»" scheme="http://example.com/tags/SanhaiOJ%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB/"/>
    
  </entry>
  
  <entry>
    <title>Samçš„æ‰“å­—è®¡åˆ’ - é¢˜è§£</title>
    <link href="http://example.com/2025/11/27/Sam%E7%9A%84%E6%89%93%E5%AD%97%E8%AE%A1%E5%88%92/"/>
    <id>http://example.com/2025/11/27/Sam%E7%9A%84%E6%89%93%E5%AD%97%E8%AE%A1%E5%88%92/</id>
    <published>2025-11-27T08:12:26.000Z</published>
    <updated>2025-11-30T06:23:56.911Z</updated>
    
    <content type="html"><![CDATA[<h2 id="T4-Samçš„æ‰“å­—è®¡åˆ’-é¢˜è§£"><a href="#T4-Samçš„æ‰“å­—è®¡åˆ’-é¢˜è§£" class="headerlink" title="T4 Samçš„æ‰“å­—è®¡åˆ’ - é¢˜è§£"></a>T4 Samçš„æ‰“å­—è®¡åˆ’ - é¢˜è§£</h2><p>ä¸€çœ‹æ•°æ®å°±çŸ¥é“å¯ä»¥æœï¼Œä½†æ˜¯æš´åŠ›æœç´¢æœ‰ $O(9^9)$ ç›´æ¥ $TLE$ äº†ã€‚</p><p>ä½†æ˜¯è¿™é“é¢˜æ˜¯<strong>æ²¡æœ‰åŠæ³•</strong>è¿›è¡Œå‰ªææˆ–è€…ä¼˜åŒ–çš„ï¼Œé‚£ä¹ˆå…¶å®è™½ç„¶æ˜¯æœç´¢ï¼Œä½†æœ¬è´¨æ˜¯æšä¸¾ã€‚</p><p>æšä¸¾æ‰€æœ‰æ–¹æ¡ˆæœ‰ä¸ªä¼˜åŒ–ï¼Œå«<strong>æŠ˜åŠæœç´¢</strong>ï¼Œæ ‡å‡†çš„ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯ã€‚</p><p>å…ˆæšä¸¾å‰ $5$ ä¸ªæ•°å­—ä¼šå¯¼è‡´çš„æ‰€æœ‰å±€é¢ï¼Œå†æšä¸¾å $5$ ä¸ªæ•°å­—ä¼šå¯¼è‡´çš„æ‰€æœ‰å±€é¢ã€‚</p><p>ä¸Šä¸‹åŒ¹é…å°±å¯ä»¥å°†å¤æ‚åº¦é™ä½åˆ° $O(2\times9^5)$ã€‚</p><p>å½“ç„¶è¿™é“é¢˜è¿˜æœ‰ç¬¬äºŒç§åšæ³•ï¼š</p><p>å°†è¿™ä¸ª $5\times4$ çš„æ–¹æ ¼åˆ†æˆ $13$ ä¸ªåŒºå—ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1  2  2  3</span><br><span class="line">4  .  .  5</span><br><span class="line">6  7  7  8</span><br><span class="line">9  .  .  10</span><br><span class="line">11 12 12 13</span><br></pre></td></tr></tbody></table></figure><p>æ¯ä¸ªåŒºå—çš„è¦†ç›–æ¬¡æ•°ä¸º $a[i]$ã€‚</p><p>ä¸éš¾å‘ç° $a[13]$ æ‰€æœ‰æ•°å­—éƒ½ä¼šç”¨ï¼Œè€Œ $a[1]$ åªæœ‰ $1$ ä¸ä¼šç”¨ï¼Œæ‰€ä»¥ $cnt[1]=a[13]-a[1]$ã€‚</p><p>åŒç†ï¼š</p><ul><li>$a[6]$ åªæœ‰ $1,7$ ä¸ç”¨ï¼Œé‚£ä¹ˆ $a[6]=a[13]-cnt[1]-cnt[7]$ï¼Œå³ $cnt[7]=a[13]-a[6]-cnt[1]$ã€‚</li><li>$a[2]$ åªæœ‰ $1,4$ ä¸ç”¨ï¼Œé‚£ä¹ˆ $a[2]=a[13]-cnt[1]-cnt[4]$ï¼Œå³ $cnt[4]=a[13]-a[2]-cnt[1]$ã€‚</li><li>$a[10]$ åªæœ‰ $2$ ä¸ç”¨ï¼Œé‚£ä¹ˆ $a[10]=a[13]-cnt[2]$ï¼Œå³ $cnt[2]=a[13]-a[10]$ã€‚</li><li>$a[4]$ åªæœ‰ $1,2,3,7$ ä¸ç”¨ï¼Œé‚£ä¹ˆ $a[4]=a[13]-cnt[1]-cnt[2]-cnt[3]-cnt[7]$ï¼Œè§£å¾— $cnt[3]$ã€‚</li><li>$a[7]$ åªæœ‰  $1,7,0$ ä¸ç”¨ï¼Œè§£å¾— $cnt[0]$ã€‚</li></ul><p>ç»¼ä¸Šï¼Œ$cnt[1],cnt[2],cnt[3],cnt[4],cnt[7],cnt[0]$ å¯ä»¥ç›´æ¥ç®—å‡ºã€‚æ¥ä¸‹æ¥åªéœ€è¦è®¡ç®— $5,6,8,9$ã€‚</p><p>$a[5]$ åªæœ‰ $5,6$ ä¸ç”¨ï¼Œè§£å¾— $cnt[5]+cnt[6]$ çš„å€¼ï¼Œè®¾ä¸º $x$ã€‚</p><p>$a[9]$ åªæœ‰ $2,6,8,0$ ä¼šç”¨ï¼Œå³ $a[9]=cnt[2]+cnt[6]+cnt[8]+cnt[0]$ï¼Œè§£å¾— $cnt[6]+cnt[8]$ï¼Œè®¾ä¸º $y$ã€‚</p><p>åˆå› ä¸º $cnt[5]+cnt[6]+cnt[8]+cnt[9]=a[13]-cnt[1]-cnt[2]-cnt[3]-cnt[4]-cnt[7]-cnt[0]$ï¼Œè®¾ä¸º $z$ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªæ–¹ç¨‹å››ä¸ªæœªçŸ¥æ•°ã€‚</p><p>è¦è®© $cnt[5]$ æœ€å°ï¼Œåˆ™æœ€å¤§åŒ– $cnt[6]$ï¼Œè€Œ $cnt[6]=x+y-z+cnt[9]$ï¼Œåˆ™ $\max{cnt[6]}=\min(9,\min(x+y-z+9,min(x,y)))$ã€‚</p><p>å†åˆ©ç”¨ä¹‹å‰çš„ $x,y,z$ å¯è§£å¾—æ‰€æœ‰æ•°å­—çš„ä¸ªæ•°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;T4-Samçš„æ‰“å­—è®¡åˆ’-é¢˜è§£&quot;&gt;&lt;a href=&quot;#T4-Samçš„æ‰“å­—è®¡åˆ’-é¢˜è§£&quot; class=&quot;headerlink&quot; title=&quot;T4 Samçš„æ‰“å­—è®¡åˆ’ - é¢˜è§£&quot;&gt;&lt;/a&gt;T4 Samçš„æ‰“å­—è®¡åˆ’ - é¢˜è§£&lt;/h2&gt;&lt;p&gt;ä¸€çœ‹æ•°æ®å°±çŸ¥é“å¯ä»¥æœï¼Œä½†æ˜¯æš´åŠ›æœç´¢æœ‰</summary>
      
    
    
    
    <category term="é¢˜è§£" scheme="http://example.com/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="é¢˜è§£" scheme="http://example.com/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
</feed>
